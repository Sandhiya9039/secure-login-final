<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head><title>Verify OTP</title></head>
<body>
<h2>Verify OTP</h2>
<div th:if="${error}" th:text="${error}" style="color:red"></div>
<div th:if="${message}" th:text="${message}" style="color:green"></div>

<form th:if="${email}" method="post" th:action="@{/verify-otp}">
    <input type="hidden" name="email" th:value="${email}"/>
    Enter OTP sent to <b th:text="${email}"></b>: <input type="text" name="otp"/><br/>
    <button type="submit">Verify</button>
</form>

<form th:if="${needsOtp}" method="post" th:action="@{/verify-login-otp}">
    <input type="hidden" name="email" th:value="${email}"/>
    Enter Login OTP sent to <b th:text="${email}"></b>: <input type="text" name="otp"/><br/>
    <button type="submit">Verify Login OTP</button>
</form>

<a th:href="@{/login}">Back to login</a>
</body>
</html>
